<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="600" fill="#0d1b2a" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" fill="#e0e1dd" text-anchor="middle" font-weight="bold">Task Data Flow</text>
  
  <!-- DATABASE -->
  <rect x="50" y="100" width="150" height="400" rx="10" ry="10" fill="#132639" stroke="#4CC9F0" stroke-width="2" />
  <text x="125" y="120" font-family="Arial" font-size="16" fill="#4CC9F0" text-anchor="middle">FIREBASE</text>
  
  <!-- Tasks collection -->
  <rect x="70" y="150" width="110" height="140" rx="5" ry="5" fill="#1b263b" />
  <text x="125" y="170" font-family="Arial" font-size="14" fill="#e0e1dd" text-anchor="middle">tasks collection</text>
  
  <!-- Individual tasks -->
  <rect x="80" y="190" width="90" height="25" rx="3" ry="3" fill="#243b55" />
  <text x="125" y="207" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">task: Math HW</text>
  
  <rect x="80" y="225" width="90" height="25" rx="3" ry="3" fill="#243b55" />
  <text x="125" y="242" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">task: English Exam</text>
  
  <rect x="80" y="260" width="90" height="25" rx="3" ry="3" fill="#243b55" />
  <text x="125" y="277" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">task: History</text>
  
  <!-- Subjects collection -->
  <rect x="70" y="320" width="110" height="140" rx="5" ry="5" fill="#1b263b" />
  <text x="125" y="340" font-family="Arial" font-size="14" fill="#e0e1dd" text-anchor="middle">subjects collection</text>
  
  <!-- Individual subjects -->
  <rect x="80" y="360" width="90" height="25" rx="3" ry="3" fill="#243b55" />
  <text x="125" y="377" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">subject: Math</text>
  
  <rect x="80" y="395" width="90" height="25" rx="3" ry="3" fill="#243b55" />
  <text x="125" y="412" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">subject: English</text>
  
  <rect x="80" y="430" width="90" height="25" rx="3" ry="3" fill="#243b55" />
  <text x="125" y="447" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">subject: History</text>
  
  <!-- FIREBASE SERVICE -->
  <rect x="250" y="100" width="150" height="400" rx="10" ry="10" fill="#1b263b" stroke="#4CC9F0" stroke-width="2" />
  <text x="325" y="120" font-family="Arial" font-size="16" fill="#4CC9F0" text-anchor="middle">FIREBASE.JS</text>
  
  <rect x="270" y="150" width="110" height="80" rx="5" ry="5" fill="#243b55" />
  <text x="325" y="170" font-family="Arial" font-size="12" fill="#e0e1dd" text-anchor="middle">fetchTasks()</text>
  <text x="325" y="190" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">⬅️ Gets tasks from</text>
  <text x="325" y="205" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">Firebase</text>
  
  <rect x="270" y="240" width="110" height="80" rx="5" ry="5" fill="#243b55" />
  <text x="325" y="260" font-family="Arial" font-size="12" fill="#e0e1dd" text-anchor="middle">updateTask()</text>
  <text x="325" y="280" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">➡️ Updates task in</text>
  <text x="325" y="295" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">Firebase</text>
  
  <rect x="270" y="330" width="110" height="80" rx="5" ry="5" fill="#243b55" />
  <text x="325" y="350" font-family="Arial" font-size="12" fill="#e0e1dd" text-anchor="middle">fetchSubjects()</text>
  <text x="325" y="370" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">⬅️ Gets subjects</text>
  <text x="325" y="385" font-family="Arial" font-size="10" fill="#c7c8c9" text-anchor="middle">from Firebase</text>
  
  <!-- CONTEXTS -->
  <rect x="450" y="100" width="150" height="400" rx="10" ry="10" fill="#243b55" stroke="#4CC9F0" stroke-width="2" />
  <text x="525" y="120" font-family="Arial" font-size="16" fill="#4CC9F0" text-anchor="middle">CONTEXTS</text>
  
  <rect x="470" y="150" width="110" height="160" rx="5" ry="5" fill="#2c4c6b" />
  <text x="525" y="170" font-family="Arial" font-size="14" fill="#e0e1dd" text-anchor="middle">TaskContext</text>
  
  <rect x="480" y="190" width="90" height="20" rx="3" ry="3" fill="#35547a" />
  <text x="525" y="205" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">tasks: [...]</text>
  
  <rect x="480" y="220" width="90" height="20" rx="3" ry="3" fill="#35547a" />
  <text x="525" y="235" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">getTodayTasks()</text>
  
  <rect x="480" y="250" width="90" height="20" rx="3" ry="3" fill="#35547a" />
  <text x="525" y="265" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">completeTask()</text>
  
  <rect x="480" y="280" width="90" height="20" rx="3" ry="3" fill="#35547a" />
  <text x="525" y="295" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">loading state</text>
  
  <rect x="470" y="320" width="110" height="160" rx="5" ry="5" fill="#2c4c6b" />
  <text x="525" y="340" font-family="Arial" font-size="14" fill="#e0e1dd" text-anchor="middle">SubjectContext</text>
  
  <rect x="480" y="360" width="90" height="20" rx="3" ry="3" fill="#35547a" />
  <text x="525" y="375" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">subjects: [...]</text>
  
  <rect x="480" y="390" width="90" height="20" rx="3" ry="3" fill="#35547a" />
  <text x="525" y="405" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">getTomorrowSubjects()</text>
  
  <rect x="480" y="420" width="90" height="20" rx="3" ry="3" fill="#35547a" />
  <text x="525" y="435" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">getSubjectColor()</text>
  
  <!-- HOOKS -->
  <rect x="650" y="100" width="100" height="400" rx="10" ry="10" fill="#2c4c6b" stroke="#4CC9F0" stroke-width="2" />
  <text x="700" y="120" font-family="Arial" font-size="16" fill="#4CC9F0" text-anchor="middle">HOOKS</text>
  
  <rect x="665" y="150" width="70" height="80" rx="5" ry="5" fill="#35547a" />
  <text x="700" y="170" font-family="Arial" font-size="10" fill="#e0e1dd" text-anchor="middle">useTaskData</text>
  <path d="M700 180 L700 220" stroke="#e0e1dd" stroke-width="1" stroke-dasharray="2,2" />
  <text x="700" y="195" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">Uses TaskContext</text>
  <text x="700" y="210" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">to get filtered tasks</text>
  
  <rect x="665" y="240" width="70" height="80" rx="5" ry="5" fill="#35547a" />
  <text x="700" y="260" font-family="Arial" font-size="10" fill="#e0e1dd" text-anchor="middle">useSubjects</text>
  <path d="M700 270 L700 310" stroke="#e0e1dd" stroke-width="1" stroke-dasharray="2,2" />
  <text x="700" y="285" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">Uses SubjectContext</text>
  <text x="700" y="300" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">for subject data</text>
  
  <rect x="665" y="330" width="70" height="80" rx="5" ry="5" fill="#35547a" />
  <text x="700" y="350" font-family="Arial" font-size="10" fill="#e0e1dd" text-anchor="middle">useArchive</text>
  <path d="M700 360 L700 400" stroke="#e0e1dd" stroke-width="1" stroke-dasharray="2,2" />
  <text x="700" y="375" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">Controls archive</text>
  <text x="700" y="390" font-family="Arial" font-size="8" fill="#c7c8c9" text-anchor="middle">visibility state</text>
  
  <!-- Data flow arrows -->
  <!-- Firebase to Service -->
  <path d="M200 190 L270 190" stroke="#F72585" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />
  <path d="M200 360 L270 360" stroke="#F72585" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />
  
  <!-- Service to Context -->
  <path d="M380 190 L470 190" stroke="#F72585" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />
  <path d="M380 360 L470 360" stroke="#F72585" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />
  
  <!-- Context to Hook -->
  <path d="M580 190 L665 190" stroke="#F72585" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />
  <path d="M580 360 L665 360" stroke="#F72585" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />
  
  <!-- Reverse flow for updates -->
  <path d="M665 250 L580 250" stroke="#06D6A0" stroke-width="2" fill="none" marker-end="url(#arrowhead2)" stroke-dasharray="5,5" />
  <path d="M470 250 L380 250" stroke="#06D6A0" stroke-width="2" fill="none" marker-end="url(#arrowhead2)" stroke-dasharray="5,5" />
  <path d="M270 250 L200 250" stroke="#06D6A0" stroke-width="2" fill="none" marker-end="url(#arrowhead2)" stroke-dasharray="5,5" />
  
  <!-- Component section indicator -->
  <rect x="400" y="520" width="300" height="40" rx="5" ry="5" fill="#35547a" stroke="#F72585" stroke-width="2" />
  <text x="550" y="545" font-family="Arial" font-size="16" fill="#e0e1dd" text-anchor="middle">Components use hooks to access data</text>
  
  <!-- Defs for arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#F72585" />
    </marker>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#06D6A0" />
    </marker>
  </defs>
</svg>
